<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>2026 æ–°å¹´è´ºå¡</title>
  <style>
    :root {
      color-scheme: dark;
      --bg: #0a0a0f;
      --glow: #f5e3b3;
      --accent: #ff9d4d;
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body, html {
      width: 100%;
      height: 100%;
      overflow: hidden;
      background: radial-gradient(circle at 30% 20%, #1d1a25 0%, #0e0b18 28%, #05040c 60%, #020107 100%);
      font-family: "Segoe UI", "PingFang SC", system-ui, -apple-system, sans-serif;
      color: #fdfdfd;
      transition: background 1s ease, filter 1s ease;
    }
    body.dark {
      background: radial-gradient(ellipse at center, #161223 0%, #090714 65%, #02010a 100%);
      filter: brightness(0.75);
    }
    .scene {
      position: relative;
      width: 100%;
      height: 100%;
      touch-action: manipulation;
      overflow: hidden;
    }
    .emoji-layer {
      position: absolute;
      inset: 0;
      pointer-events: none;
      overflow: hidden;
      opacity: 0.18;
      mix-blend-mode: screen;
      z-index: 2;
    }
    .emoji-layer span {
      position: absolute;
      font-size: clamp(22px, 6vw, 32px);
      filter: drop-shadow(0 0 6px rgba(255, 210, 120, 0.45));
      animation: drift 5s ease-in-out infinite alternate;
    }
    @keyframes drift {
      from { transform: translateY(0) translateX(0) rotate(-4deg); }
      to   { transform: translateY(-14px) translateX(8px) rotate(6deg); }
    }
    canvas#fireworks {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      z-index: 1;
    }
    .intro, .wish {
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 0 10vw;
      pointer-events: none;
      z-index: 3; /* å¿…é¡»é«˜äºcanvasï¼Œå¦åˆ™ç‚¹å‡»ä¼šè½åœ¨canvasä¸Šå¯¼è‡´â€œæ²¡ååº”â€ */
    }
    .intro {
      background: rgba(0, 0, 0, 0.35);
      backdrop-filter: blur(4px);
      flex-direction: column;
      gap: 1rem;
      transition: opacity 0.8s ease;
      pointer-events: auto;
      cursor: pointer;
    }
    .intro h1 {
      font-size: clamp(4rem, 18vw, 9rem);
      letter-spacing: 0.08em;
      color: var(--glow);
      text-shadow: 0 0 24px rgba(255, 227, 150, 0.8);
    }
    .intro p {
      font-size: clamp(1rem, 3.5vw, 1.5rem);
      color: #f1f1f1;
      opacity: 0.86;
    }
    .intro.hidden { opacity: 0; pointer-events: none; }
    .wish {
      opacity: 0;
      flex-direction: column;
      gap: 0.75rem;
      color: #fefefe;
      transition: opacity 2s ease;
    }
    .wish.show { opacity: 1; }
    .wish h2 {
      font-size: clamp(2rem, 9vw, 3.4rem);
      letter-spacing: 0.06em;
      color: var(--accent);
      text-shadow: 0 0 12px rgba(255, 157, 77, 0.85);
    }
    .wish p {
      font-size: clamp(1.1rem, 4vw, 1.4rem);
      line-height: 1.5;
      color: #f6f6f6;
    }
    /* ç¥ç¦è¯­ç‰¹æ•ˆï¼šæ ‡é¢˜è½»å¼¹ + æ­£æ–‡æµå…‰æ¸å˜ + é€å­—æµ®ç° */
    .wish.show h2 {
      animation: popIn 900ms cubic-bezier(.2,.9,.2,1.2) both, glowPulse 2200ms ease-in-out 900ms infinite;
    }
    @keyframes popIn {
      0% { transform: translateY(10px) scale(0.98); filter: blur(1px); opacity: 0; }
      60% { transform: translateY(-2px) scale(1.02); filter: blur(0); opacity: 1; }
      100% { transform: translateY(0) scale(1); opacity: 1; }
    }
    @keyframes glowPulse {
      0%, 100% { text-shadow: 0 0 10px rgba(255, 157, 77, 0.55), 0 0 26px rgba(255, 120, 50, 0.25); }
      50% { text-shadow: 0 0 14px rgba(255, 190, 120, 0.9), 0 0 34px rgba(255, 120, 50, 0.35); }
    }
    .wish .wish-line {
      margin-top: 0.2rem;
      font-weight: 600;
      letter-spacing: 0.04em;
      display: inline-block;
      padding: 0.2rem 0.35rem;
      border-radius: 12px;
      background: radial-gradient(120% 180% at 50% 50%, rgba(255,255,255,0.10) 0%, rgba(255,255,255,0.03) 55%, rgba(255,255,255,0.00) 100%);
      backdrop-filter: blur(2px);
      -webkit-backdrop-filter: blur(2px);
    }
    .wish.show .wish-line {
      background-image:
        linear-gradient(110deg, rgba(255,255,255,0.10) 0%, rgba(255,255,255,0.02) 35%, rgba(255,255,255,0.10) 55%, rgba(255,255,255,0.02) 75%, rgba(255,255,255,0.10) 100%),
        radial-gradient(120% 180% at 50% 50%, rgba(255,255,255,0.10) 0%, rgba(255,255,255,0.03) 55%, rgba(255,255,255,0.00) 100%);
      background-size: 220% 100%, 100% 100%;
      animation: shimmer 2400ms ease-in-out 900ms infinite;
    }
    @keyframes shimmer {
      0% { background-position: 0% 50%, 50% 50%; }
      50% { background-position: 100% 50%, 50% 50%; }
      100% { background-position: 0% 50%, 50% 50%; }
    }
    .wish .char {
      display: inline-block;
      opacity: 0;
      transform: translateY(10px);
      filter: blur(2px);
    }
    .wish.show .char {
      animation: charIn 720ms cubic-bezier(.18,.95,.26,1.1) forwards;
      animation-delay: calc(var(--i) * 55ms + 650ms);
    }
    @keyframes charIn {
      0% { opacity: 0; transform: translateY(10px); filter: blur(2px); }
      70% { opacity: 1; transform: translateY(-1px); filter: blur(0); }
      100% { opacity: 1; transform: translateY(0); filter: blur(0); }
    }
    .hint {
      position: absolute;
      bottom: 4vh;
      width: 100%;
      text-align: center;
      font-size: 0.95rem;
      color: rgba(255,255,255,0.75);
      letter-spacing: 0.05em;
      pointer-events: none;
      z-index: 3;
    }
  </style>
</head>
<body>
    <div class="scene">
      <canvas id="fireworks"></canvas>
      <div class="emoji-layer" id="emojiLayer"></div>
    <div class="intro" id="intro">
      <h1>2026</h1>
      <p>ç‚¹å‡»å±å¹•</p>
    </div>
    <div class="wish" id="wish">
      <h2>æ–°å¹´å¿«ä¹</h2>
      <p>å»å²åƒèˆ¬çš†å¦‚æ„ï¼Œä»Šå¹´ä¸‡äº‹å®šç§°å¿ƒã€‚</p>
    </div>
    <div class="hint"></div>
  </div>

  <script>
    const scene = document.querySelector('.scene');
    const canvas = document.getElementById('fireworks');
    const ctx = canvas.getContext('2d');
    const intro = document.getElementById('intro');
    const wish = document.getElementById('wish');
    const emojiLayer = document.getElementById('emojiLayer');
    const wishLine = wish.querySelector('p');

    let w = window.innerWidth;
    let h = window.innerHeight;
    canvas.width = w;
    canvas.height = h;

    const particles = [];
    const MAX_PARTICLES = 1600; // ä¸Šé™é˜²æ­¢ç§»åŠ¨ç«¯å¡é¡¿
    let launchTimer = null;
    let running = false;

    function populateEmojis() {
      const emojis = ['ğŸ†','ğŸ‡','ğŸ§§','ğŸ§¨','ğŸ®','ğŸŠ','ğŸ‰'];
      const total = 32;
      for (let i = 0; i < total; i++) {
        const span = document.createElement('span');
        span.textContent = emojis[Math.floor(Math.random() * emojis.length)];
        span.style.left = `${rand(0, 100)}%`;
        span.style.top = `${rand(0, 100)}%`;
        span.style.animationDelay = `${rand(-3, 3)}s`;
        emojiLayer.appendChild(span);
      }
    }

    function stylizeWishLine() {
      if (!wishLine) return;
      const text = (wishLine.textContent || '').trim();
      wishLine.textContent = '';
      wishLine.classList.add('wish-line');
      // é€å­—åŒ…è£…ï¼ˆä¿ç•™ä¸­æ–‡æ ‡ç‚¹/ç©ºæ ¼ï¼‰
      [...text].forEach((ch, idx) => {
        const span = document.createElement('span');
        span.className = 'char';
        span.textContent = ch;
        span.style.setProperty('--i', idx);
        wishLine.appendChild(span);
      });
      // æ— éšœç¢ï¼šè®©å±å¹•é˜…è¯»å™¨ä»èƒ½è¯»åˆ°æ•´å¥
      wishLine.setAttribute('aria-label', text);
    }

    function resize() {
      w = window.innerWidth;
      h = window.innerHeight;
      canvas.width = w;
      canvas.height = h;
    }
    window.addEventListener('resize', resize);

    function rand(min, max) {
      return Math.random() * (max - min) + min;
    }

    function createExplosion(x, y) {
      const colors = ['#ffd166', '#f4a261', '#ff6b6b', '#70d6ff', '#c77dff', '#95f9e3'];
      const count = Math.floor(rand(60, 95)); // é€‚åº¦é™ä½å•æŸæ•°é‡é˜²æ­¢å µå¡
      const color = colors[Math.floor(Math.random() * colors.length)];
      for (let i = 0; i < count; i++) {
        const angle = Math.random() * Math.PI * 2;
        const speed = rand(2.5, 7);
        particles.push({
          x,
          y,
          vx: Math.cos(angle) * speed,
          vy: Math.sin(angle) * speed,
          alpha: 1,
          decay: rand(0.006, 0.018),
          color,
          size: rand(2, 4),
          gravity: 0.03
        });
      }
    }

    function launchFirework() {
      if (particles.length > MAX_PARTICLES) {
        particles.splice(0, particles.length - MAX_PARTICLES); // ä¸¢å¼ƒæœ€æ—©çš„ç²’å­é¿å…å †ç§¯
      }
      const x = rand(w * 0.15, w * 0.85);
      const y = rand(h * 0.15, h * 0.55);
      createExplosion(x, y);
    }

    function update() {
      ctx.fillStyle = 'rgba(0,0,0,0.14)'; // ç•¥åŠ å¼ºé®ç½©ï¼Œå‡å°‘é•¿æ—¶é—´æ®‹å½±å †ç§¯
      ctx.fillRect(0, 0, w, h);

      for (let i = particles.length - 1; i >= 0; i--) {
        const p = particles[i];
        p.x += p.vx;
        p.y += p.vy;
        p.vy += p.gravity;
        p.alpha -= p.decay;

        if (p.alpha <= 0) {
          particles.splice(i, 1);
          continue;
        }
        ctx.beginPath();
        ctx.globalAlpha = p.alpha;
        ctx.fillStyle = p.color;
        ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
        ctx.fill();
      }

      ctx.globalAlpha = 1;
      if (running) requestAnimationFrame(update);
    }

    function startShow() {
      if (running) return;
      running = true;
      document.body.classList.add('dark');
      intro.classList.add('hidden');

      // è¿ç»­å‘å°„çƒŸèŠ±
      launchFirework();
      launchTimer = setInterval(launchFirework, 450); // æ›´é«˜é¢‘ç‡
      requestAnimationFrame(update);

      // ç¥ç¦è¯­æ·¡å…¥
      setTimeout(() => wish.classList.add('show'), 4000);

      // å‡ç¼“é¢‘ç‡ï¼Œç•™ä½ä½™æ™–
      setTimeout(() => {
        clearInterval(launchTimer);
        launchTimer = setInterval(launchFirework, 900);
      }, 6500);
    }

    populateEmojis();
    stylizeWishLine();

    // é¦–å±ï¼šä»»æ„ç‚¹å‡»/è½»è§¦éƒ½èƒ½å¯åŠ¨ï¼›è¿è¡Œä¸­ï¼šç‚¹å‡»åŠ ä¸€æŸ
    scene.addEventListener('click', () => {
      if (!running) startShow();
      else launchFirework();
    });
  </script>
</body>
</html>

